**SMInterface.dll**

**NOTE:**  This page shows information that is not yet released in Ship Manifest.   The current release as of this writing is 4.2.1.1.  It is expected that this interface will be included in Release 4.3.0.0

Ship Manifest provides an interface to allow for detection of Crew transfers in progress.  Realism Mode introduces a delay (7 second default) that freezes the interface until the completion of the transfer process.  This can cause issues with other mods that manipulate kerbals.  if the user initiates a change that affects the kerbal being moved, a race condition can occur, and cause "duplicate" or ghost kerbals to exist.

This interface exposes the details of the transfer and provides notification of when a transfer is in progress.

The code for the dll is shown as follows:

    using System;
    using System.Linq;

    namespace ShipManifest
    {
        public interface ICrewTransfer
        {
            bool CrewXferActive { get; set; }
            bool IsStockXfer { get; }
            double CrewXferDelaySec { get; }
            bool IsSeat2SeatXfer { get; }
            double Seat2SeatXferDelaySec { get; }

            int IvaPortraitDelay { get; }
            bool IvaDelayActive { get; }

            Guid XferVesselID { get; }

            Part SourcePart { get; }
            Part TargetPart { get; }

            ProtoCrewMember SourceCrewMember { get; }
            ProtoCrewMember TargetCrewMember { get; }

            InternalSeat SourceSeat { get; }
            InternalSeat TargetSeat { get; }
        }

        public static class SMInterface
        {
            private static bool _smChecked = false;
            private static bool _smInstalled = false;
            public static bool IsSMInstalled
            {
                get
                {
                    if (!_smChecked)
                    {
                        string assemblyName = "ShipManifest";
                        var assemblies = AppDomain.CurrentDomain.GetAssemblies();
                        var assembly = (from a in assemblies
                                    where a.FullName.Contains(assemblyName)
                                    select a).SingleOrDefault();
                        if (assembly != null)
                            _smInstalled = true;
                        else
                            _smInstalled = false;
                        _smChecked = true;
                    }
                    return _smInstalled;
                }
            }
        }
    }


